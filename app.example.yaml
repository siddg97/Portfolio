runtime: nodejs12
instance_class: F1

automatic_scaling:
  max_instances: 1

handlers:
  # Express handlers
  ## Serve static files
  - url: /assets/.*
    script: auto
  ## All API related URLs
  - url: /api.*
    script: auto

  # React handlers
  ## Serving all static files with url ending with file extension
  - url: /(.*\..+)$
    static_files: client/build/\1
    upload: client/build/(.*\..+)$
  ## Catch all other URLs handler for index.html
  - url: /.*
    static_files: client/build/index.html
    upload: client/build/index.html

env_variables:
  CPASS: "..."
  CUSER: "..."
  MHOST: "..."
  CORS_ORIGIN: "..."
  GITHUB_ACCESS_TOKEN: "..."
  GITHUB_API: "..."
